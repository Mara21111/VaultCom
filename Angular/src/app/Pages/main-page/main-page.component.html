<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

<app-base-ui
  [logOutOn]="true"
  [adminMenuOn]="true"
  [profileOn]="true"
  [friendsOn]="true">
</app-base-ui>

<div class="app-container">
  <div class="content">
    
    <!-- Sidebar -->
    <div class="sidebar">
      <div class="search-container">
        <input type="text" class="form-control search-input" placeholder="Search">
        <button class="search-btn btn btn-dark btn-icon">
          <i class="bi bi-search"></i>
        </button>
        <button class="new-chat-btn btn btn-dark btn-icon">
          <i class="fas fa-plus"></i>
        </button>
      </div>

      <div class="chat-list">
        <div class="chat-item" *ngFor="let item of data.chats">
          <div class="message-avatar" style="background-color: #e74c3c;">{{ item.creator_id }}</div>
          <div class="chat-info">
            <div class="chat-name">{{ item.creator_id }}</div>
          </div>
        </div>

        <!-- Example chat items -->
        <div class="chat-item active">
          <div class="avatar"><img src="/api/placeholder/40/40" alt="N"></div>
          <div class="chat-info"><div class="chat-name">Nathan</div></div>
        </div>
        <div class="chat-item">
          <div class="avatar"><img src="/api/placeholder/40/40" alt="E"></div>
          <div class="chat-info"><div class="chat-name">Emily (1)</div></div>
        </div>
        <div class="chat-item">
          <div class="avatar"><img src="/api/placeholder/40/40" alt="J"></div>
          <div class="chat-info"><div class="chat-name">James</div></div>
        </div>
      </div>

      <!-- Sticky Public/Private Toggle -->
      <div class="footer-bar mode-toggle">
        <div class="mode-button" [ngClass]="{'active': !public_chats}" (click)="changeChatsToPrivate()">Private</div>
        <div class="mode-button" [ngClass]="{'active': public_chats}" (click)="changeChatsToPublic()">Public</div>
      </div>
    </div>

    <!-- Chat Window -->
    <div class="chat-window">
      <div class="chat-header">
        <div class="chat-title">Work</div>
        <div class="chat-actions">
          <button class="chat-action"><i class="fas fa-thumbtack"></i></button>
          <button class="chat-action"><i class="fas fa-search"></i></button>
        </div>
      </div>

      <div class="messages-container" id="messages-container">
        <div class="message" *ngFor="let item of data.messages">
          <div class="message-avatar" style="background-color: #e74c3c;">{{ item.user_id }}</div>
          <div class="message-content">
            <div class="message-sender">{{ item.user_id }}</div>
            {{ item.content }}
            <div class="message-time">{{ item.time | date:'shortTime' }}</div>
          </div>
        </div>
      </div>

      <div class="footer-bar message-footer">
        <input type="text" class="message-input" placeholder="Write message">
        <button class="btn btn-dark btn-icon send-button">
          <i class="fas fa-paper-plane"></i>
        </button>
      </div>
    </div>

  </div>
</div>
