<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.10.5/font/bootstrap-icons.min.css" rel="stylesheet">

<app-base-ui
  [title]="'All Users'"
  [titleOn]="true"
  [searchOn]="true"
  [closeOn]="true"
  [closeRoute]="'/admin-menu'"
  (searchChanged)="onSearchChanged($event)">
</app-base-ui>


<div class="main-container">
  <div class="users-container">
    <div class="content-area">
      <section class="panel users-panel">
        <div class="table-header">
          <div class="col-header">Username</div>
          <div class="col-header">Email</div>
          <div class="col-header">Report Count</div>
        </div>
        <div class="table-body">
          <div class="table-row" (click)="this.goToUser(user.id)" *ngFor="let user of this.filteredUsers" style="cursor: pointer;">
            <div class="col username">{{ user.username }}</div>
            <div class="col">{{ user.email }}</div>
            <div class="col">{{ this.reportCount(user.id) }}</div>
          </div>
        </div>
      </section>
    </div>
  </div>
</div>


<app-user-info-side-panel
  *ngIf="panelVisible"
  [user]="selectedUser"
  [adminView]="true"
  [userEditing]="false"
  (close)="closePanel()">
</app-user-info-side-panel>
